---
apiVersion: v1
kind: ConfigMap
metadata:
  name: mailu-zpush
  namespace: storage
data:
  imap.conf.php: |
    <?php
    define('IMAP_SERVER', 'mailu-front');
    define('IMAP_PORT', 10143);
    define('IMAP_OPTIONS', '/notls/norsh');
    define('IMAP_AUTOSEEN_ON_DELETE', false);
    define('IMAP_FOLDER_CONFIGURED', true);
    define('IMAP_FOLDER_PREFIX', '');
    define('IMAP_FOLDER_PREFIX_IN_INBOX', false);
    define('IMAP_FOLDER_INBOX', 'INBOX');
    define('IMAP_FOLDER_SENT', 'Sent');
    define('IMAP_FOLDER_DRAFT', 'Drafts');
    define('IMAP_FOLDER_TRASH', 'Trash');
    define('IMAP_FOLDER_SPAM', 'Spam');
    define('IMAP_FOLDER_ARCHIVE', 'Archive');
    define('IMAP_INLINE_FORWARD', true);
    define('IMAP_EXCLUDED_FOLDERS', '');
    define('IMAP_DEFAULTFROM', '');
    define('IMAP_SMTP_METHOD', 'smtp');
    global $imap_smtp_params;
    $imap_smtp_params = array(
      'host' => 'mailu-front',
      'port' => 10025,
      'auth' => true,
      'username' => 'imap_username',
      'password' => 'imap_password',
      'persist' => true,
    );
    define('MAIL_MIMEPART_CRLF', "\r\n");
    define('SYSTEM_MIME_TYPES_MAPPING', '/etc/mime.types');
    define('IMAP_MEETING_USE_CALDAV', false);
    define('IMAP_SEARCH_CHARSET', 'UTF-8');
  z-push.conf.php: |
    <?php
    define('TIMEZONE', '');
    define('BASE_PATH', dirname($_SERVER['SCRIPT_FILENAME']). '/');
    define('SCRIPT_TIMEOUT', 0);
    define('USE_CUSTOM_REMOTE_IP_HEADER', 'HTTP_X_REAL_IP');
    define('CERTIFICATE_OWNER_PARAMETER', "SSL_CLIENT_S_DN_CN");
    define('USE_FULLEMAIL_FOR_LOGIN', true);
    define('STATE_MACHINE', 'FILE');
    define('STATE_DIR', '/var/lib/z-push/');
    define('IPC_PROVIDER', '');
    define('LOGBACKEND', 'filelog');
    define('LOGLEVEL', LOGLEVEL_INFO);
    define('LOGAUTHFAIL', false);
    define('LOGUSERLEVEL', LOGLEVEL_DEVICEID);
    $specialLogUsers = array();
    define('LOGFILEDIR', '/var/log/z-push/');
    define('LOGFILE', LOGFILEDIR . 'z-push.log');
    define('LOGERRORFILE', LOGFILEDIR . 'z-push-error.log');
    define('LOG_SYSLOG_HOST', false);
    define('LOG_SYSLOG_PORT', 514);
    define('LOG_SYSLOG_PROGRAM', 'z-push');
    define('LOG_SYSLOG_FACILITY', LOG_LOCAL0);
    define('PROVISIONING', true);
    define('LOOSE_PROVISIONING', false);
    define('PROVISIONING_POLICYFILE', 'policies.ini');
    define('SYNC_CONFLICT_DEFAULT', SYNC_CONFLICT_OVERWRITE_PIM);
    define('SYNC_FILTERTIME_MAX', SYNC_FILTERTYPE_ALL);
    define('PING_INTERVAL', 30);
    define('FILEAS_ORDER', SYNC_FILEAS_LASTFIRST);
    define('SYNC_MAX_ITEMS', 512);
    define('UNSET_UNDEFINED_PROPERTIES', false);
    define('SYNC_CONTACTS_MAXPICTURESIZE', 5242880);
    define('ALLOW_WEBSERVICE_USERS_ACCESS', false);
    define('USE_PARTIAL_FOLDERSYNC', false);
    define('PING_LOWER_BOUND_LIFETIME', false);
    define('PING_HIGHER_BOUND_LIFETIME', false);
    define('SYNC_TIMEOUT_MEDIUM_DEVICETYPES', "SAMSUNGGTI");
    define('SYNC_TIMEOUT_LONG_DEVICETYPES', "iPod, iPad, iPhone, WP, WindowsOutlook, WindowsMail");
    define('RETRY_AFTER_DELAY', 300);
    define('BACKEND_PROVIDER', 'BackendIMAP');
    define('SEARCH_WAIT', 10);
    define('SEARCH_MAXRESULTS', 10);
    $additionalFolders = array();
