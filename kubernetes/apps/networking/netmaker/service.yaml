---
apiVersion: v1
kind: Service
metadata:
  name: netmaker-service
  namespace: networking
  annotations:
    metallb.universe.tf/allow-shared-ip: global
spec:
  selector:
    app: netmaker
  type: LoadBalancer
  loadBalancerIP: ${METALLB_IP}
  ports:
    - port: 31820
      nodePort: 31820
      protocol: UDP
      targetPort: 31820
      name: wg-iface-31820
    - port: 31821
      nodePort: 31821
      protocol: UDP
      targetPort: 31821
      name: wg-iface-31821
    - port: 31822
      nodePort: 31822
      protocol: UDP
      targetPort: 31822
      name: wg-iface-31822
    - port: 31823
      nodePort: 31823
      protocol: UDP
      targetPort: 31823
      name: wg-iface-31823
    - port: 31824
      nodePort: 31824
      protocol: UDP
      targetPort: 31824
      name: wg-iface-31824
    - port: 31825
      nodePort: 31825
      protocol: UDP
      targetPort: 31825
      name: wg-iface-31825
    - port: 31826
      nodePort: 31826
      protocol: UDP
      targetPort: 31826
      name: wg-iface-31826
    - port: 31827
      nodePort: 31827
      protocol: UDP
      targetPort: 31827
      name: wg-iface-31827
    - port: 31828
      nodePort: 31828
      protocol: UDP
      targetPort: 31828
      name: wg-iface-31828
    - port: 31829
      nodePort: 31829
      protocol: UDP
      targetPort: 31829
      name: wg-iface-31829
